---
import BaseLayout from '../layouts/BaseLayout.astro'
import { Icon } from 'astro-icon/components'
import BlogCard from '../components/BlogCard.astro'
import { getCollection } from 'astro:content'
const posts = (await getCollection('blog'))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 4)
---

<BaseLayout>
	<!-- HERO IMPACTO -->
	<section
		class="app-container py-16 md:py-24 flex flex-col items-center gap-10 text-center"
	>
		<div class="max-w-3xl mx-auto">
			<h1
				class="text-4xl md:text-6xl font-extrabold leading-tight text-primary dark:text-primary-dark"
			>
				Vivir sin privilegios <span class="text-red-500"
					>no deber√≠a ser un acto de resistencia.</span
				>
			</h1>

			<p
				class="mt-5 text-lg md:text-xl text-gray-800 dark:text-gray-300 max-w-xl mx-auto"
			>
				Hablamos claro sobre mobbing laboral, racismo institucional y violencia
				burocr√°tica en Espa√±a. No para que quede bonito. Para que se entienda y
				se combata.
			</p>
		</div>

		<!-- Botones CTA -->
		<div class="flex flex-wrap justify-center gap-4">
			<a
				href="/blog"
				class="px-6 py-3 text-sm font-bold tracking-wide rounded-full bg-red-600 text-white hover:bg-red-500"
			>
				Leer historias reales
			</a>
			<a
				href="/recursos"
				class="px-6 py-3 text-sm font-bold tracking-wide rounded-full border border-gray-500 text-gray-700 dark:text-gray-200 hover:border-red-400 hover:text-red-300"
			>
				Recursos urgentes
			</a>
			<a
				href="/manifiesto"
				class="px-6 py-3 text-sm font-bold tracking-wide rounded-full border border-gray-500 text-gray-700 dark:text-gray-200 hover:border-red-400 hover:text-red-300"
			>
				Leer manifiesto
			</a>
		</div>
	</section>

	<section
		class="app-container py-16 md:py-24 flex flex-col items-center gap-10 text-center"
	>
		<div class="max-w-3xl mx-auto">
			<h2
				class="text-4xl md:text-6xl font-extrabold leading-tight text-primary dark:text-primary-dark"
			>
				Vivir sin privilegios <span class="text-yellow-500"
					>no deber√≠a costar dignidad.</span
				>
			</h2>

			<p
				class="mt-5 text-lg md:text-xl text-gray-800 dark:text-gray-300 max-w-xl mx-auto"
			>
				Significa cumplir con todo ‚Äîtrabajar, estudiar, pagar impuestos, cuidar
				de la familia y respetar la ley‚Äî y aun as√≠ enfrentar controles,
				sospechas y burocracia discriminatoria que otros no viven.
			</p>

			<p
				class="mt-3 text-lg md:text-xl text-gray-800 dark:text-gray-300 max-w-xl mx-auto"
			>
				Es saber que tu <strong>color de piel, acento o pasaporte</strong> pueden
				complicar tu vida en Extranjer√≠a, en el trabajo o en el acceso a vivienda
				p√∫blica. Eso es <strong>racismo institucional en 2025.</strong>
			</p>
		</div>
	</section>

	<section class="app-container pb-16 md:pb-24">
		<div class="max-w-4xl mx-auto space-y-8 text-center">
			<h2
				class="text-xl md:text-2xl font-bold text-primary dark:text-primary-dark"
			>
				üèõ ¬øQu√© es el racismo institucional en Espa√±a en 2025?
			</h2>

			<p
				class="text-sm md:text-base text-gray-800 dark:text-gray-300 max-w-2xl mx-auto"
			>
				El racismo institucional en 2025 no grita.
				<strong
					>Se sella y se tramita por oficinas y plataformas digitales.</strong
				>
			</p>
		</div>

		<!-- Mapa mental -->
		<div
			class="relative rounded-3xl border border-gray-300 bg-gray-100 text-gray-900 px-6 py-8 md:px-10 md:py-10 shadow-sm"
		>
			<!-- Nodo central -->
			<div class="mx-auto mb-8 flex items-center justify-center">
				<div
					class="inline-flex flex-col items-center justify-center rounded-full px-6 py-4 bg-red-600 text-center shadow-lg text-white"
				>
					<span
						class="text-[0.65rem] uppercase tracking-[0.25em] text-red-100/90"
					>
						n√∫cleo
					</span>
					<span class="mt-1 text-sm md:text-base font-semibold">
						Racismo institucional ¬∑ 2025
					</span>
				</div>
			</div>

			<!-- Nodos sat√©lite -->
			<div class="grid gap-4 md:grid-cols-2">
				<div class="rounded-2xl bg-red-50 border border-red-400/70 px-4 py-3">
					<p class="text-xs uppercase tracking-[0.2em] text-red-600">
						tr√°mites
					</p>
					<p class="text-sm md:text-base font-semibold text-gray-900">
						Formularios que exigen lo imposible
					</p>
				</div>

				<div
					class="rounded-2xl bg-indigo-50 border border-indigo-400/70 px-4 py-3"
				>
					<p class="text-xs uppercase tracking-[0.2em] text-indigo-600">
						silencio
					</p>
					<p class="text-sm md:text-base font-semibold text-gray-900">
						Silencio administrativo que te deja sin derechos
					</p>
				</div>

				<div
					class="rounded-2xl bg-amber-50 border border-amber-400/70 px-4 py-3"
				>
					<p class="text-xs uppercase tracking-[0.2em] text-amber-600">
						tiempo
					</p>
					<p class="text-sm md:text-base font-semibold text-gray-900">
						Plazos eternos para renovar residencia
					</p>
				</div>

				<div
					class="rounded-2xl bg-fuchsia-50 border border-fuchsia-400/70 px-4 py-3"
				>
					<p class="text-xs uppercase tracking-[0.2em] text-fuchsia-600">
						confusi√≥n
					</p>
					<p class="text-sm md:text-base font-semibold text-gray-900">
						Informaci√≥n confusa que te hace fallar a prop√≥sito
					</p>
				</div>

				<div
					class="md:col-span-2 rounded-2xl bg-emerald-50 border border-emerald-400/70 px-4 py-3"
				>
					<p class="text-xs uppercase tracking-[0.2em] text-emerald-600">
						desigualdad
					</p>
					<p class="text-sm md:text-base font-semibold text-gray-900">
						Trato desigual en empleo, vivienda y servicios p√∫blicos
					</p>
				</div>
			</div>

			<p class="mt-6 text-[0.80rem] text-gray-700 text-center md:text-left">
				No es un insulto. Es un <strong>procedimiento que excluye</strong>. No
				se ve en la calle,
				<strong>se vive en la administraci√≥n.</strong>
			</p>
		</div>
	</section>

	<!-- BLOQUES ACTIVISTAS -->
	<section class="app-container grid md:grid-cols-3 gap-8 py-20">
		<div class="rounded-3xl border border-red-400 p-6 bg-red-500/10">
			<h3 class="text-lg font-bold text-red-600">NIE</h3>
			<p class="text-sm mt-2 text-gray-700 dark:text-gray-300">
				NIE / N√∫mero de Identidad de Extranjero
			</p>
			<a
				href="/extranjeria/02-nie---n√∫mero-de-identidad-de-extranjero-asignaci√≥n-ex-15/"
				class="text-xs inline-block mt-4 font-semibold underline underline-offset-2 text-red-400"
			>
				Ver Asignaci√≥n de NIE ‚Üí
			</a>
		</div>

		<div class="rounded-3xl border border-yellow-400 p-6 bg-yellow-500/10">
			<h3 class="text-lg font-bold text-yellow-600">Cita Previa</h3>
			<p class="text-sm mt-2 text-gray-700 dark:text-gray-300">
				Cita previa y oficinas de extranjer√≠a en Galicia.
			</p>
			<a
				href="/extranjeria/01-cita-previa-y-oficinas-de-extranjer√≠a-en-galicia/"
				class="text-xs inline-block mt-4 font-semibold underline underline-offset-2 text-yellow-500"
			>
				C√≥mo sacar cita previa ‚Üí
			</a>
		</div>

		<div class="rounded-3xl border border-green-400 p-6 bg-green-500/10">
			<h3 class="text-lg font-bold text-green-600">Arraigos</h3>
			<p class="text-sm mt-2 text-gray-700 dark:text-gray-300">
				Gu√≠as y herramientas para la solicitud de arraigo en Espa√±a.
			</p>
			<a
				href="/extranjeria/07-arraigo/"
				class="text-xs inline-block mt-4 font-semibold underline underline-offset-2 text-green-500"
			>
				Ver m√°s ‚Üí
			</a>
		</div>
	</section>

	<!-- POSTS RECIENTES -->
	<section class="app-container">
		<h2 class="section-title text-2xl md:text-3xl font-bold">
			Posts recientes
		</h2>
		<div class="posts-grid-container mt-8">
			{posts.map((post) => <BlogCard post={post} />)}
		</div>
		<a class="btn-secondary mt-8 inline-flex items-center gap-2" href="/blog">
			Leer todos <Icon size={20} name="mdi:arrow-right" />
		</a>
	</section>
</BaseLayout>
